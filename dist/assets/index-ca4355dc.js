import{r as n,U as j,j as e,L as b,a as v,N as w,O as y}from"./index-a1485a9d.js";import{s as f}from"./styles-12bc90a9.js";import{l as N,L as $,C as L}from"./index-8f2162d9.js";import{u as C}from"./useMediaQuery-e906d047.js";import{s as S}from"./index-2740fe42.js";import{L as E}from"./SpinLoader-9c7d013d.js";import{F as k,a as P}from"./FollowersContext-d3965ceb.js";import"./index-328a23ee.js";function R(r,t){n.useEffect(()=>{function i(a){r.current&&!r.current.contains(a.target)&&t()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r,t])}const h=n.createContext();function O({children:r}){const{userInfo:t}=n.useContext(j),i=C("(min-width: 640px)"),a=n.useRef(null),[s,o]=n.useState(i);return R(a,()=>{i||o(!1)}),n.useEffect(()=>{o(i)},[i]),e.jsx("aside",{ref:a,className:`sm:h-screen ${s?"h-screen top-0":"h-min py-1 sm:py-0 sm:overflow-visible top-0"} sm:sticky fixed sm:shadow-sm left-0 duration-500 overflow-hidden transition-all flex z-[10]`,children:e.jsxs("nav",{className:`h-full flex flex-col border-r items-center ${s?"bg-slate-900":"sm:bg-white border-r-0"} duration-500  transition-all`,children:[e.jsxs("div",{className:`w-full flex justify-between items-center ${s?"p-3":"p-1 sm:p-3"}`,children:[e.jsx("img",{src:N,className:`overflow-hidden transition-all ${s?"w-28":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>o(c=>!c),className:` bg-gray-200 hover:bg-gray-300 flex items-center justify-center  ${s?"p-3 rounded-lg":"text-xl sm:text-base sm:p-3 border border-slate-900 sm:border-0 rounded-full sm:rounded-lg overflow-hidden"}`,title:`${s?"Close Sidebar":"Open Sidebar"}`,type:"button",children:s?e.jsx("ion-icon",{name:"arrow-back-circle-outline","aria-label":"Collapse Sidebar"}):e.jsxs("span",{children:[e.jsx("img",{src:t.avatar.url,alt:`${t.name}`,className:"w-7 h-7 object-top object-cover sm:hidden"}),e.jsx("span",{className:"hidden sm:flex",children:e.jsx("ion-icon",{name:"arrow-forward-circle-outline","aria-label":"Expand Sidebar"})})]})})]}),e.jsx(h.Provider,{value:{expanded:s,setExpanded:o},children:e.jsx("ul",{className:`flex-1 w-full overflow-y-scroll px-3 flex flex-col items-center1 ${s?"":"hidden sm:block"}`,children:r})}),t&&e.jsxs("div",{className:`border-t p-3 flex ${s?"":"hidden sm:block"}`,title:s?"":t.name,children:[e.jsx(b,{to:"my_profile",className:"w-10 h-10 rounded-md flex justify-center items-center bg-blue-400 text-white overflow-hidden",children:e.jsx("img",{src:t.avatar.url,alt:`${t.name}`,className:"w-10 h-10 object-top object-cover "})}),e.jsxs("div",{className:`flex justify-between items-center overflow-hidden transition-all ${s?"ml-3":"hidden"} `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsx("h4",{className:"font-semibold text-white",title:t.name,children:t.name}),e.jsx("span",{className:"text-xs text-gray-400 line-clamp-1 w-32 md:w-40",title:t.email,children:t.email})]}),e.jsx($,{})]})]})]})})}function F({icon:r,text:t,active:i,alert:a}){const{expanded:s}=n.useContext(h),[o,c]=n.useState({top:0}),d=n.useRef(null);return n.useEffect(()=>{var x,u;const m=()=>{if(d.current&&!s){const{top:p,right:g}=d.current.getBoundingClientRect();c({top:p+1,right:g})}},l=(u=(x=d.current)==null?void 0:x.parentElement)==null?void 0:u.parentElement;return l==null||l.addEventListener("scroll",m),m(),()=>{l==null||l.removeEventListener("scroll",m)}},[s]),e.jsxs("li",{ref:d,className:`relative flex items-center p-3 my-1 font-medium rounded-md cursor-pointer transition-colors group
                    ${i?"bg-gradient-to-tr from-indigo-200 to-indigo-100 text-indigo-800":`hover:bg-indigo-50 ${s?"text-white":"text-gray-500"} hover:text-gray-600`}
                    ${s?"ps-5":"w-10 h-10"}
                `,children:[r,e.jsx("span",{className:`overflow-hidden transition-all ${s?" md:w-44 ml-3":"hidden"}`,children:t}),a&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-indigo-400 ${s?"":"top-2"}`}),!s&&e.jsx("div",{className:"fixed rounded-md px-2 py-1 bg-indigo-100 text-indigo-800 text-sm invisible group-hover:visible group-hover:opacity-100 transition-all transform group-hover:translate-x-6 duration-300 ease-in-out",style:{top:o.top,left:o.right},children:e.jsx("p",{className:"text-center whitespace-nowrap",children:t})})]})}const X=()=>{const r=v();return e.jsx(k,{children:e.jsx(P,{children:e.jsxs("div",{className:"flex bg-gray-100",children:[e.jsx(O,{children:S.map(t=>e.jsx(w,{to:t.linkTo,children:e.jsx(F,{icon:e.jsx("ion-icon",{name:t.icon_name}),text:t.text,active:r.pathname===t.linkTo},t.id)},t.id))}),e.jsx("div",{className:`${f.paddingX} ${f.paddingY} flex-1 min-h-screen`,style:{flex:1},children:e.jsx(n.Suspense,{fallback:e.jsx(L,{children:e.jsx(E,{})}),children:e.jsx(y,{})})})]})})})};export{X as default};
