import{u as g,j as a}from"./index-4c064340.js";import{s as f}from"./styles-12bc90a9.js";import{w as l}from"./index-bff4b79e.js";import{P as x}from"./index-b5b152a4.js";import"./index-04d90925.js";const y="https://mern-polling.onrender.com/api/v1",E=()=>{const i=g(),c={question:"",description:"",optionList:[],endDate:""},p=async(t,s,o,r)=>{const d=t,h=o.map(e=>({subject:e})),u=new Date(r);try{const n=await(await fetch(`${y}/poll/createPoll`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:d,description:s,options:h,endDate:u})})).json();n.success?(l.success("Your poll has been created successfully"),i("/poll")):l.error(n.message||"Error Creating poll")}catch(e){console.log("Error while creating the poll",e),l.error("Error creating poll")}},m=({question:t,description:s,optionList:o,endDate:r})=>{p(t,s,o,r)};return a.jsxs("div",{className:"pt-10 sm:pt-0 px-3 sm:px-0",children:[a.jsx("h1",{className:`${f.heading2} mb-6`,children:"Create Free Poll With PollLab"}),a.jsx(x,{handleSubmit:m,initialData:c,reset:!0,type:"Create"})]})};export{E as default};
