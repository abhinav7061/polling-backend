import{u as f,j as t}from"./index-4f8d315e.js";import{s as g}from"./styles-0ca58f2b.js";import{w as l}from"./index-44c1b41b.js";import{P as y}from"./index-7e383de1.js";import"./index-2fec4983.js";const P="https://mern-polling.onrender.com/api/v1",D=()=>{const i=f(),c={question:"",description:"",optionList:[],endDate:""},p=async(s,o,a,r)=>{const d=s,u=a.map(e=>({subject:e})),h=new Date(r);try{const e=await fetch(`${P}/poll/createPoll`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:d,description:o,options:u,endDate:h})}),n=await e.json();e.status===400||n.success===!1?l.error(n.message):(l.success("Your poll has been created successfully"),i("/poll"))}catch(e){console.log("Error while creating the poll",e)}},m=({question:s,description:o,optionList:a,endDate:r})=>{p(s,o,a,r)};return t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:`${g.heading2} mb-6`,children:"Create Free Poll With PollLab"}),t.jsx(y,{handleSubmit:m,initialData:c,reset:!0,type:"Create"})]})};export{D as default};
