import{b as u,u as f,r as o,j as s}from"./index-395cc95b.js";import{V as g}from"./index-b80f3fa9.js";import{S as h}from"./SpinLoader-aa9ba6ba.js";import{E as x}from"./index-e92b4352.js";import"./styles-12bc90a9.js";import"./index-1503e879.js";import"./index-c18650f6.js";import"./index-ded1588e.js";import"./useMediaQuery-427bbe76.js";const w=async(a,l)=>{try{const e=await(await fetch(`${a}`,l)).json();if(e.success)return e;throw new Error(e.message||"Server Error")}catch(t){throw console.log("Error while fetching the data: ",t.message),new Error(t)}},E="http://localhost:5000/api/v1",N=()=>{const a=u(),l=f(),[t,e]=o.useState(!0),[p,m]=o.useState(null),[n,c]=o.useState(null),d=a.pollId,i=async()=>{e(!0),c(null);try{const r=await w(`${E}/poll/getPoll/${d}`,{credentials:"include"});console.log(r),m(r.poll)}catch(r){console.error(r),c(r.message)}finally{e(!1)}};return o.useEffect(()=>{i()},[]),n?s.jsx(x,{heading:"Error fetching the poll",message:n,action:i}):s.jsx("div",{className:"w-full flex justify-center",children:t?s.jsx(h,{}):s.jsx("div",{className:"bg-white rounded-[10px] overflow-hidden mb-4 px-2 py-1 md:px-6 md:py-2 relative max-w-[750px]",children:s.jsx(g,{pollData:p,deletePollCallback:()=>{l("/poll")}})})})};export{N as default};
